<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday ‚Äî Ultimate Surprise for Chotu</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg1: #07060a;
            --accent: #ff7aa2;
            --accent2: #b85cff;
            --accent3: #ffd166;
            --muted: #9a98a8;
            --card-bg: rgba(255,255,255,0.02);
            --glow: 0 0 20px rgba(255, 122, 162, 0.7);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Poppins', system-ui, -apple-system;
            background: radial-gradient(circle at 10% 10%, #0f0711 0%, #050409 60%);
            color: #e9e9f2;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        /* Particle Background */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        /* Confetti container */
        #confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
            display: none;
        }
        
        /* Floating balloons */
        .balloon {
            position: fixed;
            bottom: -100px;
            width: 40px;
            height: 50px;
            border-radius: 50%;
            z-index: 5;
            opacity: 0.7;
            animation: floatUp 15s linear infinite;
        }
        .balloon::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 15px;
            background: rgba(255,255,255,0.5);
        }
        .balloon:nth-child(2n) {
            animation-delay: 2s;
            animation-duration: 18s;
        }
        .balloon:nth-child(3n) {
            animation-delay: 5s;
            animation-duration: 12s;
        }
        .balloon:nth-child(4n) {
            animation-delay: 7s;
            animation-duration: 16s;
        }
        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100vh) rotate(10deg);
                opacity: 0;
            }
        }
        
        /* Progress indicator */
        .progress-container {
            width: 100%;
            height: 4px;
            background: rgba(255,255,255,0.1);
            border-radius: 2px;
            margin-top: 20px;
            overflow: hidden;
            display: none;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        /* Lock Screen */
        .lock-wrap {
            display: flex;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            padding: 30px;
            perspective: 1000px;
        }
        
        .lock-card {
            width: 100%;
            max-width: 500px;
            background: linear-gradient(180deg, var(--card-bg), rgba(255,255,255,0.01));
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(2,6,23,0.8);
            border: 1px solid rgba(255,255,255,0.05);
            text-align: center;
            transform-style: preserve-3d;
            animation: float 6s ease-in-out infinite;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        .lock-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                transparent, 
                rgba(255, 122, 162, 0.3), 
                transparent 30%
            );
            animation: rotate 10s linear infinite;
            z-index: -1;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotateX(5deg); }
            50% { transform: translateY(-20px) rotateX(5deg); }
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 48px;
            color: var(--accent);
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 122, 162, 0.5);
        }
        
        .desc {
            color: var(--muted);
            font-size: 15px;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        .input-row {
            display: flex;
            gap: 12px;
            flex-direction: column;
            margin-bottom: 20px;
        }
        
        input[type=text] {
            padding: 16px 20px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
            background: rgba(255,255,255,0.03);
            color: inherit;
            font-size: 16px;
            width: 100%;
            text-align: center;
            transition: all 0.4s ease;
            backdrop-filter: blur(5px);
        }
        
        input[type=text]:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 2px rgba(255, 122, 162, 0.3), 0 0 20px rgba(255, 122, 162, 0.2);
            transform: scale(1.02);
        }
        
        button {
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
            font-weight: 600;
            cursor: pointer;
            border: none;
            border-radius: 12px;
            padding: 14px 20px;
        }
        
        button.primary {
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            color: #fff;
            box-shadow: 0 5px 15px rgba(184, 92, 255, 0.3);
        }
        
        button.primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(184, 92, 255, 0.5);
        }
        
        button.primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.7s;
        }
        
        button.primary:hover::before {
            left: 100%;
        }
        
        button.ghost {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--muted);
        }
        
        button.ghost:hover {
            border-color: var(--accent);
            color: var(--accent);
            transform: translateY(-2px);
        }
        
        .error {
            color: #ff7b7b;
            margin-top: 10px;
            display: none;
            font-size: 14px;
            animation: shake 0.5s ease;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }
        
        /* Modal */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(2,6,23,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            visibility: hidden;
            opacity: 0;
            transition: all 0.5s ease;
            backdrop-filter: blur(10px);
            padding: 25px;
        }
        
        .modal.open {
            visibility: visible;
            opacity: 1;
        }
        
        .modal-card {
            background: linear-gradient(135deg, rgba(15, 11, 20, 0.9), rgba(11, 7, 16, 0.9));
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            transform: scale(0.8);
            transition: transform 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        
        .modal.open .modal-card {
            transform: scale(1);
            animation: modalGlow 3s ease-in-out infinite alternate;
        }
        
        @keyframes modalGlow {
            0% { box-shadow: 0 0 20px rgba(255, 122, 162, 0.5); }
            100% { box-shadow: 0 0 40px rgba(184, 92, 255, 0.7); }
        }
        
        .modal-card h2 {
            color: var(--accent);
            font-family: 'Great Vibes', cursive;
            font-size: 36px;
            margin-bottom: 15px;
        }
        
        .modal-card p {
            color: var(--muted);
            margin-bottom: 25px;
            font-size: 16px;
        }
        
        /* Main Site */
        .site {
            display: none;
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
        }
        
        .site.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .hero {
            padding: 50px 30px;
            border-radius: 20px;
            background: linear-gradient(135deg, var(--card-bg), transparent);
            border: 1px solid rgba(255,255,255,0.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            margin-bottom: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 30%, rgba(255,122,162,0.1) 0%, transparent 50%);
            z-index: -1;
        }
        
        .hero h2 {
            font-family: 'Great Vibes', cursive;
            font-size: 56px;
            color: var(--accent);
            min-height: 70px;
            word-break: break-word;
            text-shadow: 0 0 15px rgba(255, 122, 162, 0.4);
        }
        
        .lead {
            color: var(--muted);
            margin-top: 20px;
            font-size: 18px;
            line-height: 1.7;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .sections {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }
        
        .card {
            background: linear-gradient(135deg, var(--card-bg), rgba(185, 57, 187, 0.1));
            padding: 30px;
            border-radius: 16px;
            border-left: 5px solid var(--accent);
            opacity: 0;
            transform: translateY(30px) rotateX(10deg);
            transition: all 0.8s ease;
            box-shadow: 0 10px 30px rgba(90, 26, 76, 0.3);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, transparent 50%);
            z-index: 0;
        }
        
        .card > * {
            position: relative;
            z-index: 1;
        }
        
        .card.reveal {
            opacity: 1;
            transform: translateY(0) rotateX(0);
        }
        
        .card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 40px rgba(90, 26, 76, 0.5);
        }
        
        .card h3 {
            margin-top: 0;
            color: #ffdff0;
            font-size: 22px;
            margin-bottom: 15px;
        }
        
        .card p {
            color: #e7e6ee;
            line-height: 1.7;
            font-size: 16px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            box-shadow: 0 0 10px var(--accent);
        }
        
        .caret {
            display: inline-block;
            width: 6px;
            height: 24px;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            vertical-align: bottom;
            margin-left: 6px;
            animation: blink 1s steps(2, end) infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        footer {
            margin-top: 50px;
            color: var(--muted);
            text-align: center;
            font-size: 14px;
            line-height: 1.6;
            padding: 20px;
            border-top: 1px solid rgba(255,255,255,0.05);
        }
        
        /* Advanced Animations */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }
        
        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--accent);
            transform: rotate(45deg);
            opacity: 0;
            animation: floatUpHearts 8s linear infinite;
        }
        
        .heart::before, .heart::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--accent);
            border-radius: 50%;
        }
        
        .heart::before {
            top: -10px;
            left: 0;
        }
        
        .heart::after {
            top: 0;
            left: -10px;
        }
        
        @keyframes floatUpHearts {
            0% {
                transform: translateY(100vh) rotate(45deg) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(45deg) scale(1.5);
                opacity: 0;
            }
        }
        
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            opacity: 0;
            animation: sparkle 2s linear infinite;
        }
        
        @keyframes sparkle {
            0%, 100% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* 3D Card Flip */
        .flip-card {
            perspective: 1000px;
            margin: 20px auto;
            max-width: 300px;
        }
        
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 200px;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        
        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }
        
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 20px;
        }
        
        .flip-card-front {
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            color: white;
        }
        
        .flip-card-back {
            background: linear-gradient(135deg, var(--accent2), var(--accent));
            color: white;
            transform: rotateY(180deg);
        }
        
        /* Responsive */
        @media (min-width: 768px) {
            .input-row {
                flex-direction: row;
            }
            
            .hero h2 {
                font-size: 64px;
            }
            
            .sections {
                grid-template-columns: 1fr 1fr;
            }
            
            .card p {
                font-size: 16px;
            }
        }
        
        @media (min-width: 1024px) {
            h1 {
                font-size: 56px;
            }
            
            .hero h2 {
                font-size: 72px;
            }
            
            .lead {
                font-size: 20px;
            }
            
            .sections {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Particle Background -->
    <div id="particles-js"></div>
    
    <!-- Confetti container -->
    <div id="confetti-container"></div>
    
    <!-- Floating Hearts -->
    <div class="floating-hearts" id="heartsContainer"></div>
    
    <!-- Lock Screen -->
    <div class="lock-wrap" id="lockScreen">
        <div class="lock-card">
            <h1>Surprise for You Baby</h1>
            <div class="desc">Enter the <strong>special date</strong> to unlock your birthday surprise. <br>Hint: It's your special day üíñ</div>
            <div class="input-row">
                <input type="text" id="specialDate" placeholder="DD-MM-YYYY" />
                <button class="primary" id="unlockBtn">Unlock</button>
                <button class="ghost" id="demoBtn">Fill Example</button>
            </div>
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div id="err" class="error"></div>
            
            <!-- 3D Flip Card -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <h3>Hover Me</h3>
                        <p>For a sweet message</p>
                    </div>
                    <div class="flip-card-back">
                        <h3>You're Amazing!</h3>
                        <p>Just like this surprise üíñ</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Unlock Modal -->
    <div class="modal" id="unlockModal">
        <div class="modal-card">
            <h2>You Did It! üéâ</h2>
            <p>You unlocked your special day! Click below to open your surprise üíå</p>
            <button class="primary" id="openSiteBtn">Open Surprise</button>
        </div>
    </div>
    
    <!-- Main Site -->
    <main class="site" id="mainSite">
        <section class="hero">
            <h2 id="heroHeading"></h2><span class="caret" id="heroCaret"></span>
            <div class="lead">You're the kind of soul who makes the world softer, brighter, and kinder just by being in it. Today is all about celebrating the beautiful heart you have ‚Äî my sister by soul, my forever sunshine üíñ</div>
        </section>

        <section class="sections" id="cardsWrap">
            <article class="card" id="card1">
                <div class="section-title">
                    <div class="dot"></div>
                    <h3 class="typing" data-text="My Feelings for You üíñ"></h3>
                </div>
                <p>You've always been more than just a friend to me ‚Äî you're the sunshine that warms my heart. Your laughter heals my bad days, and your care feels like home. Watching you grow and shine makes me proud every single day.</p>
            </article>

            <article class="card" id="card2">
                <div class="section-title">
                    <div class="dot"></div>
                    <h3 class="typing" data-text="Our Memories üåô"></h3>
                </div>
                <p>Every late-night talk, every silly joke, every shared secret ‚Äî they all live in my heart like stars in the night sky. No matter where life takes us, these memories will always remind me of how special our bond is.</p>
            </article>

            <article class="card" id="card3">
                <div class="section-title">
                    <div class="dot"></div>
                    <h3 class="typing" data-text="My Promise to You üí´"></h3>
                </div>
                <p>I promise to stand beside you through every storm and smile with you in every sunshine. You'll never have to face anything alone because my heart will always be your safe place ‚Äî forever and always.</p>
            </article>

            <article class="card" id="card4">
                <div class="section-title">
                    <div class="dot"></div>
                    <h3 class="typing" data-text="Ending Message ü•π"></h3>
                </div>
                <p>You're not just someone I care about ‚Äî you're a piece of my soul. Even when miles apart, our hearts will always stay connected. You're my forever sister by heart, and I'll love you endlessly.</p>
            </article>
        </section>

        <footer>
            <div>Made with ‚ù§ by your best friend ‚Äî who loves you like a sister forever.</div>
            <div>God Bless You, Sunshine üåô</div>
        </footer>
    </main>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Initialize particles.js
        document.addEventListener('DOMContentLoaded', function() {
            particlesJS('particles-js', {
                particles: {
                    number: { value: 80, density: { enable: true, value_area: 800 } },
                    color: { value: ["#ff7aa2", "#b85cff", "#ffd166"] },
                    shape: { type: "circle" },
                    opacity: { value: 0.5, random: true },
                    size: { value: 3, random: true },
                    line_linked: {
                        enable: true,
                        distance: 150,
                        color: "#ff7aa2",
                        opacity: 0.2,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: 2,
                        direction: "none",
                        random: true,
                        straight: false,
                        out_mode: "out",
                        bounce: false
                    }
                },
                interactivity: {
                    detect_on: "canvas",
                    events: {
                        onhover: { enable: true, mode: "repulse" },
                        onclick: { enable: true, mode: "push" },
                        resize: true
                    }
                }
            });
        });

        const SECRET_DATE = '10-11-2025';
        const CHAR_DELAY = 100;
        const HEADING_DELAY = 80;
        const CARD_DELAY = 4000;

        const input = document.getElementById('specialDate');
        const unlockBtn = document.getElementById('unlockBtn');
        const demoBtn = document.getElementById('demoBtn');
        const err = document.getElementById('err');
        const modal = document.getElementById('unlockModal');
        const openSiteBtn = document.getElementById('openSiteBtn');
        const mainSite = document.getElementById('mainSite');
        const lockScreen = document.getElementById('lockScreen');
        const heroHeading = document.getElementById('heroHeading');
        const heroCaret = document.getElementById('heroCaret');
        const cards = [
            document.getElementById('card1'),
            document.getElementById('card2'),
            document.getElementById('card3'),
            document.getElementById('card4'),
        ];
        const heartsContainer = document.getElementById('heartsContainer');
        const confettiContainer = document.getElementById('confetti-container');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');

        // Create floating hearts
        function createHearts() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.animationDelay = Math.random() * 5 + 's';
                    heart.style.background = i % 3 === 0 ? 'var(--accent)' : 
                                           i % 3 === 1 ? 'var(--accent2)' : 'var(--accent3)';
                    heartsContainer.appendChild(heart);
                    
                    // Create sparkles around hearts
                    for (let j = 0; j < 5; j++) {
                        const sparkle = document.createElement('div');
                        sparkle.className = 'sparkle';
                        sparkle.style.left = Math.random() * 30 - 15 + 'px';
                        sparkle.style.top = Math.random() * 30 - 15 + 'px';
                        sparkle.style.animationDelay = Math.random() * 2 + 's';
                        heart.appendChild(sparkle);
                    }
                }, i * 300);
            }
        }

        // Create balloons
        function createBalloons() {
            const colors = ['#ff7aa2', '#b85cff', '#ffd166', '#06d6a0', '#118ab2', '#ef476f'];
            
            for (let i = 0; i < 15; i++) {
                const balloon = document.createElement('div');
                balloon.className = 'balloon';
                balloon.style.left = Math.random() * 100 + 'vw';
                balloon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                document.body.appendChild(balloon);
            }
        }

        // Create confetti
        function createConfetti() {
            confettiContainer.style.display = 'block';
            const colors = ['#ff7aa2', '#b85cff', '#ffd166', '#06d6a0', '#118ab2'];
            
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = Math.random() * 10 + 5 + 'px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-10px';
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.opacity = Math.random() * 0.5 + 0.5;
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                
                const animation = confetti.animate([
                    { transform: `translateY(0) rotate(0deg)`, opacity: 1 },
                    { transform: `translateY(100vh) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: Math.random() * 3000 + 2000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)'
                });
                
                confettiContainer.appendChild(confetti);
                
                animation.onfinish = () => {
                    confetti.remove();
                };
            }
        }

        function showCelebration() {
            playSuccessSound();
            createConfetti();
            createBalloons();
        }

        let audioCtx;
        function playTick() {
            try {
                if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                const o = audioCtx.createOscillator();
                const g = audioCtx.createGain();
                o.type = 'sine';
                o.frequency.value = 800 + Math.random() * 240;
                g.gain.value = 0.000001;
                o.connect(g);
                g.connect(audioCtx.destination);
                const now = audioCtx.currentTime;
                g.gain.setValueAtTime(0.000001, now);
                g.gain.exponentialRampToValueAtTime(0.06, now + 0.001);
                g.gain.exponentialRampToValueAtTime(0.000001, now + 0.07);
                o.start(now);
                o.stop(now + 0.08);
            } catch(e) {}
        }

        function playSuccessSound() {
            try {
                if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                const o = audioCtx.createOscillator();
                const g = audioCtx.createGain();
                o.type = 'sine';
                o.frequency.value = 523.25;
                g.gain.value = 0;
                o.connect(g);
                g.connect(audioCtx.destination);
                
                const now = audioCtx.currentTime;
                o.start(now);
                
                // Create a birthday melody
                g.gain.setValueAtTime(0, now);
                g.gain.linearRampToValueAtTime(0.1, now + 0.1);
                o.frequency.setValueAtTime(659.25, now + 0.1);
                o.frequency.setValueAtTime(783.99, now + 0.2);
                o.frequency.setValueAtTime(1046.50, now + 0.3);
                g.gain.linearRampToValueAtTime(0, now + 0.5);
                o.stop(now + 0.5);
            } catch(e) {}
        }

        function typeText(el, text, delay = CHAR_DELAY, withSound = true, onProgress = null) {
            return new Promise(resolve => {
                el.textContent = '';
                let i = 0;
                
                function step() {
                    if (i < text.length) {
                        const ch = text.charAt(i);
                        el.textContent += ch;
                        if (withSound && ch.trim()) playTick();
                        i++;
                        
                        if (onProgress) {
                            onProgress(i / text.length);
                        }
                        
                        setTimeout(step, delay);
                    } else {
                        resolve();
                    }
                }
                step();
            });
        }

        function isValidDateFormat(str) {
            const re = /^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[0-2])-([0-9]{4})$/;
            if (!re.test(str)) return false;
            const [d, m, y] = str.split('-').map(Number);
            const date = new Date(y, m-1, d);
            return date && (date.getFullYear() === y) && (date.getMonth() === m-1) && (date.getDate() === d);
        }

        unlockBtn.addEventListener('click', () => {
            const v = input.value.trim();
            err.style.display = 'none';
            
            if (!v) {
                err.innerText = 'Please enter the date in DD-MM-YYYY';
                err.style.display = 'block';
                return;
            }
            
            if (!isValidDateFormat(v)) {
                err.innerText = 'Invalid format. Use DD-MM-YYYY (example: 01-01-2025)';
                err.style.display = 'block';
                return;
            }
            
            if (v !== SECRET_DATE) {
                err.innerText = 'Wrong date. Try again üí≠';
                err.style.display = 'block';
                return;
            }
            
            // Show progress indicator
            progressContainer.style.display = 'block';
            progressBar.style.width = '100%';
            
            setTimeout(() => {
                playSuccessSound();
                modal.classList.add('open');
                progressContainer.style.display = 'none';
            }, 800);
        });

        demoBtn.addEventListener('click', () => {
            input.value = '01-01-2025';
            err.style.display = 'none';
        });

        openSiteBtn.addEventListener('click', async () => {
            modal.classList.remove('open');
            lockScreen.style.display = 'none';
            
            // Show main site with animation
            mainSite.style.display = 'block';
            setTimeout(() => {
                mainSite.classList.add('show');
            }, 100);
            
            // Show celebration
            showCelebration();
            
            // Create hearts animation
            createHearts();
            
            // Show progress during typing
            progressContainer.style.display = 'block';
            progressBar.style.width = '0%';
            
            // Type the hero heading
            await typeText(heroHeading, 'Happy Birthday, Chotu üíñ', CHAR_DELAY, true, (progress) => {
                progressBar.style.width = (progress * 100) + '%';
            });
            
            heroCaret.style.display = 'none';
            progressContainer.style.display = 'none';
            
            // Reveal cards with staggered animation
            for (let i = 0; i < cards.length; i++) {
                const card = cards[i];
                card.classList.add('reveal');
                const heading = card.querySelector('.typing');
                
                if (heading && heading.dataset.text) {
                    await typeText(heading, heading.dataset.text, HEADING_DELAY, true);
                }
                
                if (i < cards.length - 1) {
                    await new Promise(res => setTimeout(res, CARD_DELAY));
                }
            }
            
            // Final celebration
            setTimeout(showCelebration, 1000);
        });

        input.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') unlockBtn.click();
        });

        input.addEventListener('input', () => {
            err.style.display = 'none';
        });

        // Add sparkle effect to buttons on hover
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('mouseenter', function() {
                for (let i = 0; i < 5; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = Math.random() * 100 + '%';
                    sparkle.style.top = Math.random() * 100 + '%';
                    sparkle.style.animationDelay = Math.random() * 1 + 's';
                    this.appendChild(sparkle);
                    
                    setTimeout(() => {
                        sparkle.remove();
                    }, 2000);
                }
            });
        });
    </script>
</body>
</html>